name: bamon
help: Bash Daemon Monitor - A tool for monitoring and executing bash scripts
version: 0.1.0

commands:
  - name: status
    help: Display current status of all configured scripts
    flags:
      - long: --verbose
        short: -v
        help: Show detailed information including full output
      - long: --failed-only
        short: -f
        help: Show only failed scripts
      - long: --json
        short: -j
        help: Output in JSON format
      - long: --name
        short: -n
        arg: script_name
        help: Check status of a specific script
    examples:
      - "bamon status"
      - "bamon status --verbose"
      - "bamon status --failed-only"
      - "bamon status --json"
      - "bamon status --name health_check"

  - name: add
    help: Add a new script to monitor
    args:
      - name: name
        required: true
        help: Script name/ID
    flags:
      - long: --command
        short: -c
        arg: command
        required: true
        help: Bash command/code to execute
      - long: --interval
        short: -i
        arg: seconds
        help: Execution interval in seconds - default 60
      - long: --description
        short: -d
        arg: text
        help: Description of what the script does
      - long: --enabled
        help: Set script as enabled - default
      - long: --disabled
        help: Set script as disabled
    examples:
      - "bamon add health_check --command 'curl -s -o /dev/null -w %{http_code} https://google.com' --interval 30"
      - "bamon add disk_check --command 'df -h / | awk NR==2' --description 'Check disk usage'"

  - name: remove
    help: Remove a script from monitoring
    args:
      - name: name
        required: true
        help: Script name/ID to remove
    flags:
      - long: --force
        short: -f
        help: Remove without confirmation
    examples:
      - "bamon remove health_check"
      - "bamon remove old_script --force"

  - name: now
    help: Execute all enabled scripts immediately
    flags:
      - long: --name
        short: -n
        arg: script_name
        help: Execute only specific script by name
      - long: --async
        short: -a
        help: Execute scripts asynchronously - default sequential
    examples:
      - "bamon now"
      - "bamon now --name health_check"
      - "bamon now --async"

  - name: start
    help: Start the daemon process
    flags:
      - long: --daemon
        short: -d
        help: Run in background (daemon mode)
      - long: --config
        short: -c
        arg: config_file
        help: Specify custom config file path
    examples:
      - "bamon start"
      - "bamon start --daemon"
      - "bamon start --config /etc/bamon/config.yml"

  - name: stop
    help: Stop the daemon process
    flags:
      - long: --force
        short: -f
        help: Force kill the daemon
    examples:
      - "bamon stop"
      - "bamon stop --force"

  - name: restart
    help: Restart the daemon process
    flags:
      - long: --daemon
        short: -d
        help: Run in background (daemon mode)
      - long: --config
        short: -c
        arg: config_file
        help: Specify custom config file path
    examples:
      - "bamon restart"
      - "bamon restart --daemon"

  - name: list
    help: List all configured scripts
    flags:
      - long: --enabled-only
        short: -e
        help: Show only enabled scripts
      - long: --disabled-only
        short: -d
        help: Show only disabled scripts
    examples:
      - "bamon list"
      - "bamon list --enabled-only"
      - "bamon list --disabled-only"

  - name: performance
    help: Show system performance metrics and optimization status
    flags:
      - long: --verbose
        short: -v
        help: Show detailed performance information
      - long: --format
        short: -f
        arg: format
        help: "Output format: table, json (default: table)"
      - long: --json
        help: Output in JSON format
    examples:
      - "bamon performance"
      - "bamon performance --verbose"
      - "bamon performance --json"

  - name: config
    help: Configuration management commands
    commands:
      - name: edit
        help: Open configuration file in default editor
        flags:
          - long: --editor
            short: -e
            arg: editor
            help: "Specify editor to use (default: EDITOR env var or vi)"
        examples:
          - "bamon config edit"
          - "bamon config edit --editor nano"
          - "bamon config edit --editor code"

      - name: show
        help: Display current configuration in YAML format
        flags:
          - long: --pretty
            short: -p
            help: Pretty print the YAML output
        examples:
          - "bamon config show"
          - "bamon config show --pretty"

      - name: validate
        help: Validate configuration file syntax and structure
        flags:
          - long: --verbose
            short: -v
            help: Show detailed validation information
        examples:
          - "bamon config validate"
          - "bamon config validate --verbose"
      - name: reset
        help: Reset configuration to default values (creates backup automatically)
        flags:
          - long: --force
            short: -f
            help: Reset without confirmation prompt
        examples:
          - "bamon config reset"
          - "bamon config reset --force"



flags:
  - long: --version
    short: -V
    help: Show version information
  - long: --help
    short: -h
    help: Show help information
